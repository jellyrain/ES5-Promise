"use strict";function _newArrowCheck(t,i){if(t!==i)throw new TypeError("Cannot instantiate an arrow function")}function Promise(t){this.PromiseState="pending",this.PromiseResult=null,this.callbacks=[];var e=this;function i(n){var t=this;"pending"===e.PromiseState&&(e.PromiseState="rejected",e.PromiseResult=n,setTimeout(function(){var i=this;_newArrowCheck(this,t),e.callbacks.forEach(function(t){_newArrowCheck(this,i),t.onRejected(n)}.bind(this))}.bind(this)))}try{t(function(n){var t=this;"pending"===e.PromiseState&&(e.PromiseState="fulfilled",e.PromiseResult=n,setTimeout(function(){var i=this;_newArrowCheck(this,t),e.callbacks.forEach(function(t){_newArrowCheck(this,i),t.onResolved(n)}.bind(this))}.bind(this)))},i)}catch(t){i(t)}}Promise.prototype.then=function(n,s){var o=this,h=this;return"function"!=typeof n&&(n=function(t){return _newArrowCheck(this,o),t}.bind(this)),"function"!=typeof s&&(s=function(t){throw _newArrowCheck(this,o),t}.bind(this)),new Promise(function(e,r){var t=this;function i(t){var i=this;try{var n=t(h.PromiseResult);n instanceof Promise?n.then(function(t){_newArrowCheck(this,i),e(t)}.bind(this),function(t){_newArrowCheck(this,i),r(t)}.bind(this)):e(n)}catch(t){r(t)}}_newArrowCheck(this,o),"fulfilled"===this.PromiseState&&setTimeout(function(){_newArrowCheck(this,t),i(n)}.bind(this)),"rejected"===this.PromiseState&&setTimeout(function(){_newArrowCheck(this,t),i(s)}.bind(this)),"pending"===this.PromiseState&&this.callbacks.push({onResolved:function(){i(n)},onRejected:function(){i(s)}})}.bind(this))},Promise.prototype.catch=function(t){return this.then(void 0,t)},Promise.resolve=function(t){var r=this;return new Promise(function(i,n){var e=this;_newArrowCheck(this,r),t instanceof Promise?t.then(function(t){_newArrowCheck(this,e),i(t)}.bind(this),function(t){_newArrowCheck(this,e),n(t)}.bind(this)):i(t)}.bind(this))},Promise.reject=function(n){var e=this;return new Promise(function(t,i){_newArrowCheck(this,e),i(n)}.bind(this))},Promise.all=function(o){var i=this;return new Promise(function(e,r){_newArrowCheck(this,i);for(var s=[],t=0;t<o.length;t++)!function(i){var n=this;o[i].then(function(t){_newArrowCheck(this,n),s[i]=t,s.length===o.length&&e(s)}.bind(this),function(t){_newArrowCheck(this,n),r(t)}.bind(this))}(t)}.bind(this))},Promise.race=function(t){var i=this;return new Promise(function(n,e){var r=this;_newArrowCheck(this,i),t.forEach(function(t){var i=this;_newArrowCheck(this,r),t.then(function(t){_newArrowCheck(this,i),n(t)}.bind(this),function(t){_newArrowCheck(this,i),e(t)}.bind(this))}.bind(this))}.bind(this))},Promise.allSettled=function(s){var n=this;return new Promise(function(e,t){_newArrowCheck(this,n);for(var r=[],i=0;i<s.length;i++)!function(i){var n=this;s[i].then(function(t){_newArrowCheck(this,n),r[i]={status:"fulfilled",value:t},r.length===s.length&&e(r)}.bind(this),function(t){_newArrowCheck(this,n),r[i]={status:"rejected",reason:t},r.length===s.length&&e(r)}.bind(this))}(i)}.bind(this))};